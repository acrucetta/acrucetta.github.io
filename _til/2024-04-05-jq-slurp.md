---
title: "jq's --slurp flag is perfect for combining lines"
date: 2024-04-05
tags: [jq, cli]
---

I learned that passing `--slurp` reads the whole stream into an array, which makes it easy to reduce over log files. Pairing it with `map` lets me clean up each record before aggregating.

```sh
rg "ERROR" app.log | jq --slurp 'group_by(.component) | map({key: .[0].component, count: length})'
```

This pattern is now my go-to whenever I need to summarize structured logs on the fly.
